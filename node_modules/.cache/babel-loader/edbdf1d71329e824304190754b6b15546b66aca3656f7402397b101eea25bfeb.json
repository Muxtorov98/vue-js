{"ast":null,"code":"import axios from \"../axios\";\nexport default {\n  actions: {\n    async fetchBook({\n      commit\n    }, categoryId = null, page = null) {\n      console.log(page);\n      const categoryUrl = categoryId !== null ? '?category=' + categoryId : '';\n      const pageUrl = page > 1 ? '?page=' + page : '';\n      try {\n        const {\n          data\n        } = await axios.get('http://localhost:8085/api/books' + categoryUrl + pageUrl);\n        const books = {\n          models: data['hydra:member'],\n          totalItems: data['hydra:totalItems']\n        };\n        commit('updateBooks', books);\n        commit('updateCurrentPage', page);\n      } catch (error) {\n        console.error(error);\n        throw error;\n      }\n    }\n  },\n  mutations: {\n    updateBooks(state, data) {\n      state.books = data;\n    },\n    updateCurrentPage(state, data) {\n      state.perPage = data;\n      state.currentPage = data;\n    }\n  },\n  state: {\n    books: {\n      models: [],\n      totalItems: 0\n    },\n    perPage: 10,\n    currentPage: 1\n  },\n  getters: {\n    getBooks(state) {\n      return state.books.models;\n    }\n  }\n};","map":{"version":3,"names":["axios","actions","fetchBook","commit","categoryId","page","console","log","categoryUrl","pageUrl","data","get","books","models","totalItems","error","mutations","updateBooks","state","updateCurrentPage","perPage","currentPage","getters","getBooks"],"sources":["D:/vue/book-front/src/plugins/vuex/books/books.js"],"sourcesContent":["import axios from \"../axios\";\r\n\r\nexport default {\r\n\r\n    actions: {\r\n        async fetchBook({ commit }, categoryId = null, page = null) {\r\n            console.log(page)\r\n            const categoryUrl = categoryId !== null ? '?category=' + categoryId : '';\r\n            const pageUrl = page > 1 ? '?page=' + page : '';\r\n            try {\r\n                const { data } = await axios.get('http://localhost:8085/api/books' + categoryUrl + pageUrl);\r\n\r\n                const books = {\r\n                    models: data['hydra:member'],\r\n                    totalItems: data['hydra:totalItems'],\r\n                };\r\n\r\n                commit('updateBooks', books);\r\n                commit('updateCurrentPage', page);\r\n\r\n\r\n            } catch (error) {\r\n                console.error(error);\r\n                throw error;\r\n            }\r\n        }\r\n    },\r\n\r\n    mutations: {\r\n        updateBooks(state, data) {\r\n            state.books = data\r\n        },\r\n        updateCurrentPage(state, data) {\r\n            state.perPage = data\r\n            state.currentPage = data\r\n        }\r\n    },\r\n\r\n    state: {\r\n        books: {\r\n            models: [],\r\n            totalItems: 0\r\n        },\r\n        perPage: 10,\r\n        currentPage: 1\r\n\r\n    },\r\n\r\n    getters: {\r\n        getBooks(state) {\r\n            return state.books.models\r\n        }\r\n    },\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,UAAU;AAE5B,eAAe;EAEXC,OAAO,EAAE;IACL,MAAMC,SAASA,CAAC;MAAEC;IAAO,CAAC,EAAEC,UAAU,GAAG,IAAI,EAAEC,IAAI,GAAG,IAAI,EAAE;MACxDC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,MAAMG,WAAW,GAAGJ,UAAU,KAAK,IAAI,GAAG,YAAY,GAAGA,UAAU,GAAG,EAAE;MACxE,MAAMK,OAAO,GAAGJ,IAAI,GAAG,CAAC,GAAG,QAAQ,GAAGA,IAAI,GAAG,EAAE;MAC/C,IAAI;QACA,MAAM;UAAEK;QAAK,CAAC,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,iCAAiC,GAAGH,WAAW,GAAGC,OAAO,CAAC;QAE3F,MAAMG,KAAK,GAAG;UACVC,MAAM,EAAEH,IAAI,CAAC,cAAc,CAAC;UAC5BI,UAAU,EAAEJ,IAAI,CAAC,kBAAkB;QACvC,CAAC;QAEDP,MAAM,CAAC,aAAa,EAAES,KAAK,CAAC;QAC5BT,MAAM,CAAC,mBAAmB,EAAEE,IAAI,CAAC;MAGrC,CAAC,CAAC,OAAOU,KAAK,EAAE;QACZT,OAAO,CAACS,KAAK,CAACA,KAAK,CAAC;QACpB,MAAMA,KAAK;MACf;IACJ;EACJ,CAAC;EAEDC,SAAS,EAAE;IACPC,WAAWA,CAACC,KAAK,EAAER,IAAI,EAAE;MACrBQ,KAAK,CAACN,KAAK,GAAGF,IAAI;IACtB,CAAC;IACDS,iBAAiBA,CAACD,KAAK,EAAER,IAAI,EAAE;MAC3BQ,KAAK,CAACE,OAAO,GAAGV,IAAI;MACpBQ,KAAK,CAACG,WAAW,GAAGX,IAAI;IAC5B;EACJ,CAAC;EAEDQ,KAAK,EAAE;IACHN,KAAK,EAAE;MACHC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE;IAChB,CAAC;IACDM,OAAO,EAAE,EAAE;IACXC,WAAW,EAAE;EAEjB,CAAC;EAEDC,OAAO,EAAE;IACLC,QAAQA,CAACL,KAAK,EAAE;MACZ,OAAOA,KAAK,CAACN,KAAK,CAACC,MAAM;IAC7B;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}