{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  actions: {\n    fetchToken(context, data) {\n      return new Promise((resolve, reject) => {\n        axios.post('http://localhost:8085/api/users/my', data).then(response => {\n          console.log('user created');\n          console.log(response);\n          let data = {\n            id: response.data.id,\n            email: response.data.email\n          };\n          context.commit('updateCreateUser', data);\n          resolve();\n        }).catch(() => {\n          console.log('user not found');\n          reject();\n        });\n      });\n    }\n  },\n  mutations: {\n    updateCreateUser(state, data) {\n      state.token = data;\n    }\n  },\n  state: {\n    createdUser: {\n      id: null,\n      email: ''\n    }\n  },\n  getters: {\n    getCreatedUser(state) {\n      return state.createdUser;\n    }\n  }\n};","map":{"version":3,"names":["axios","actions","fetchToken","context","data","Promise","resolve","reject","post","then","response","console","log","id","email","commit","catch","mutations","updateCreateUser","state","token","createdUser","getters","getCreatedUser"],"sources":["D:/vue/book-front/src/plugins/vuex/register.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default {\r\n    actions: {\r\n        fetchToken(context, data) {\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .post('http://localhost:8085/api/users/my', data)\r\n                    .then((response) => {\r\n                        console.log('user created')\r\n                        console.log(response)\r\n\r\n                        let data = {\r\n                            id: response.data.id,\r\n                            email: response.data.email\r\n                        }\r\n\r\n                        context.commit('updateCreateUser', data)\r\n                        resolve()\r\n                    })\r\n                    .catch(() => {\r\n                        console.log('user not found')\r\n                        reject()\r\n                    })\r\n            })\r\n        }\r\n    },\r\n\r\n    mutations: {\r\n        updateCreateUser(state, data) {\r\n            state.token = data\r\n        }\r\n    },\r\n\r\n    state: {\r\n        createdUser: {\r\n            id: null,\r\n            email: ''\r\n        }\r\n    },\r\n\r\n    getters: {\r\n        getCreatedUser(state) {\r\n            return state.createdUser\r\n        }\r\n    },\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAe;EACXC,OAAO,EAAE;IACLC,UAAUA,CAACC,OAAO,EAAEC,IAAI,EAAE;MACtB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACpCP,KAAK,CACAQ,IAAI,CAAC,oCAAoC,EAAEJ,IAAI,CAAC,CAChDK,IAAI,CAAEC,QAAQ,IAAK;UAChBC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;UAC3BD,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;UAErB,IAAIN,IAAI,GAAG;YACPS,EAAE,EAAEH,QAAQ,CAACN,IAAI,CAACS,EAAE;YACpBC,KAAK,EAAEJ,QAAQ,CAACN,IAAI,CAACU;UACzB,CAAC;UAEDX,OAAO,CAACY,MAAM,CAAC,kBAAkB,EAAEX,IAAI,CAAC;UACxCE,OAAO,EAAE;QACb,CAAC,CAAC,CACDU,KAAK,CAAC,MAAM;UACTL,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;UAC7BL,MAAM,EAAE;QACZ,CAAC,CAAC;MACV,CAAC,CAAC;IACN;EACJ,CAAC;EAEDU,SAAS,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAEf,IAAI,EAAE;MAC1Be,KAAK,CAACC,KAAK,GAAGhB,IAAI;IACtB;EACJ,CAAC;EAEDe,KAAK,EAAE;IACHE,WAAW,EAAE;MACTR,EAAE,EAAE,IAAI;MACRC,KAAK,EAAE;IACX;EACJ,CAAC;EAEDQ,OAAO,EAAE;IACLC,cAAcA,CAACJ,KAAK,EAAE;MAClB,OAAOA,KAAK,CAACE,WAAW;IAC5B;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}