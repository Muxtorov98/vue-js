{"ast":null,"code":"import axios from \"../axios\";\nexport default {\n  actions: {\n    async fetchBook({\n      commit\n    }, categoryId = null) {\n      const categoryUrl = categoryId ? `?category=${categoryId}` : '';\n      return new Promise((resolve, reject) => {\n        axios.get('http://localhost:8085/api/books' + categoryUrl).then(response => {\n          console.log('book success');\n          console.log(response);\n          let books = {\n            models: response.data['hydra:member'],\n            totalItems: response.data['hydra:totalItems']\n          };\n          context.commit('updateBooks', books);\n          resolve();\n        }).catch(() => {\n          console.log('user err');\n          reject();\n        });\n      });\n    }\n  },\n  mutations: {\n    updateBooks(state, data) {\n      state.books = data;\n    }\n  },\n  state: {\n    books: {\n      models: [],\n      totalItems: 0\n    }\n  },\n  getters: {\n    getBooks(state) {\n      return state.books.models;\n    }\n  }\n};","map":{"version":3,"names":["axios","actions","fetchBook","commit","categoryId","categoryUrl","Promise","resolve","reject","get","then","response","console","log","books","models","data","totalItems","context","catch","mutations","updateBooks","state","getters","getBooks"],"sources":["D:/vue/book-front/src/plugins/vuex/books/books.js"],"sourcesContent":["import axios from \"../axios\";\r\n\r\nexport default {\r\n\r\n    actions: {\r\n        async fetchBook({ commit }, categoryId = null) {\r\n\r\n            const categoryUrl = categoryId ? `?category=${categoryId}` : '';\r\n\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .get('http://localhost:8085/api/books' + categoryUrl)\r\n                    .then((response) => {\r\n                        console.log('book success')\r\n                        console.log(response)\r\n\r\n                        let books = {\r\n                            models: response.data['hydra:member'],\r\n                            totalItems: response.data['hydra:totalItems']\r\n                        }\r\n\r\n                        context.commit('updateBooks', books)\r\n                        resolve()\r\n\r\n                    })\r\n                    .catch(() => {\r\n                        console.log('user err')\r\n                        reject()\r\n                    })\r\n            })\r\n        }\r\n    },\r\n\r\n    mutations: {\r\n        updateBooks(state, data) {\r\n            state.books = data\r\n        }\r\n    },\r\n\r\n    state: {\r\n        books: {\r\n            models: [],\r\n            totalItems: 0\r\n        }\r\n    },\r\n\r\n    getters: {\r\n        getBooks(state) {\r\n            return state.books.models\r\n        }\r\n    },\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,UAAU;AAE5B,eAAe;EAEXC,OAAO,EAAE;IACL,MAAMC,SAASA,CAAC;MAAEC;IAAO,CAAC,EAAEC,UAAU,GAAG,IAAI,EAAE;MAE3C,MAAMC,WAAW,GAAGD,UAAU,GAAI,aAAYA,UAAW,EAAC,GAAG,EAAE;MAE/D,OAAO,IAAIE,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACpCR,KAAK,CACAS,GAAG,CAAC,iCAAiC,GAAGJ,WAAW,CAAC,CACpDK,IAAI,CAAEC,QAAQ,IAAK;UAChBC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;UAC3BD,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;UAErB,IAAIG,KAAK,GAAG;YACRC,MAAM,EAAEJ,QAAQ,CAACK,IAAI,CAAC,cAAc,CAAC;YACrCC,UAAU,EAAEN,QAAQ,CAACK,IAAI,CAAC,kBAAkB;UAChD,CAAC;UAEDE,OAAO,CAACf,MAAM,CAAC,aAAa,EAAEW,KAAK,CAAC;UACpCP,OAAO,EAAE;QAEb,CAAC,CAAC,CACDY,KAAK,CAAC,MAAM;UACTP,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;UACvBL,MAAM,EAAE;QACZ,CAAC,CAAC;MACV,CAAC,CAAC;IACN;EACJ,CAAC;EAEDY,SAAS,EAAE;IACPC,WAAWA,CAACC,KAAK,EAAEN,IAAI,EAAE;MACrBM,KAAK,CAACR,KAAK,GAAGE,IAAI;IACtB;EACJ,CAAC;EAEDM,KAAK,EAAE;IACHR,KAAK,EAAE;MACHC,MAAM,EAAE,EAAE;MACVE,UAAU,EAAE;IAChB;EACJ,CAAC;EAEDM,OAAO,EAAE;IACLC,QAAQA,CAACF,KAAK,EAAE;MACZ,OAAOA,KAAK,CAACR,KAAK,CAACC,MAAM;IAC7B;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}