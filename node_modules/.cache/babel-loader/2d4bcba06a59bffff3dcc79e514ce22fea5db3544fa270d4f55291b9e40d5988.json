{"ast":null,"code":"import axios from \"../axios\";\nexport default {\n  actions: {\n    async fetchBook({\n      commit\n    }, categoryId = null, page = 2) {\n      try {\n        const {\n          data\n        } = await axios.get('http://localhost:8085/api/books', {\n          params: {\n            category: categoryId,\n            page: page\n          }\n        });\n        const books = {\n          models: data['hydra:member'],\n          totalItems: Math.ceil(data['hydra:totalItems'] / 2)\n        };\n        commit('updateBooks', books);\n      } catch (error) {\n        console.error(error);\n        throw error;\n      }\n    },\n    setPage({\n      commit\n    }, page) {\n      commit('setCurrentPage', page);\n    }\n  },\n  mutations: {\n    updateBooks(state, data) {\n      state.books = data;\n    },\n    setCurrentPage(state, page) {\n      state.page = page;\n    }\n  },\n  state: {\n    books: {\n      models: [],\n      page: 1,\n      totalItems: 0\n    }\n  },\n  getters: {\n    getBooks(state) {\n      return state.books.models;\n    },\n    getPage(state) {\n      return state.books.totalItems;\n    }\n  }\n};","map":{"version":3,"names":["axios","actions","fetchBook","commit","categoryId","page","data","get","params","category","books","models","totalItems","Math","ceil","error","console","setPage","mutations","updateBooks","state","setCurrentPage","getters","getBooks","getPage"],"sources":["D:/vue/book-front/src/plugins/vuex/books/books.js"],"sourcesContent":["import axios from \"../axios\";\r\n\r\nexport default {\r\n\r\n    actions: {\r\n        async fetchBook({ commit }, categoryId = null, page = 2) {\r\n\r\n            try {\r\n                const { data } = await axios.get('http://localhost:8085/api/books',{\r\n                    params: {\r\n                        category: categoryId,\r\n                        page: page,\r\n                    }\r\n                });\r\n\r\n                const books = {\r\n                    models: data['hydra:member'],\r\n                    totalItems: Math.ceil(data['hydra:totalItems'] / 2) ,\r\n                };\r\n\r\n                commit('updateBooks', books);\r\n\r\n            } catch (error) {\r\n                console.error(error);\r\n                throw error;\r\n            }\r\n        },\r\n        setPage({ commit }, page) {\r\n            commit('setCurrentPage', page);\r\n        }\r\n\r\n    },\r\n\r\n    mutations: {\r\n        updateBooks(state, data) {\r\n            state.books = data\r\n        },\r\n        setCurrentPage(state, page) {\r\n            state.page = page;\r\n        }\r\n    },\r\n\r\n    state: {\r\n        books: {\r\n            models: [],\r\n            page: 1,\r\n            totalItems: 0,\r\n        }\r\n\r\n    },\r\n\r\n    getters: {\r\n        getBooks(state) {\r\n            return state.books.models\r\n        },\r\n        getPage(state){\r\n            return state.books.totalItems\r\n        }\r\n\r\n    },\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,UAAU;AAE5B,eAAe;EAEXC,OAAO,EAAE;IACL,MAAMC,SAASA,CAAC;MAAEC;IAAO,CAAC,EAAEC,UAAU,GAAG,IAAI,EAAEC,IAAI,GAAG,CAAC,EAAE;MAErD,IAAI;QACA,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,iCAAiC,EAAC;UAC/DC,MAAM,EAAE;YACJC,QAAQ,EAAEL,UAAU;YACpBC,IAAI,EAAEA;UACV;QACJ,CAAC,CAAC;QAEF,MAAMK,KAAK,GAAG;UACVC,MAAM,EAAEL,IAAI,CAAC,cAAc,CAAC;UAC5BM,UAAU,EAAEC,IAAI,CAACC,IAAI,CAACR,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC;QACtD,CAAC;QAEDH,MAAM,CAAC,aAAa,EAAEO,KAAK,CAAC;MAEhC,CAAC,CAAC,OAAOK,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB,MAAMA,KAAK;MACf;IACJ,CAAC;IACDE,OAAOA,CAAC;MAAEd;IAAO,CAAC,EAAEE,IAAI,EAAE;MACtBF,MAAM,CAAC,gBAAgB,EAAEE,IAAI,CAAC;IAClC;EAEJ,CAAC;EAEDa,SAAS,EAAE;IACPC,WAAWA,CAACC,KAAK,EAAEd,IAAI,EAAE;MACrBc,KAAK,CAACV,KAAK,GAAGJ,IAAI;IACtB,CAAC;IACDe,cAAcA,CAACD,KAAK,EAAEf,IAAI,EAAE;MACxBe,KAAK,CAACf,IAAI,GAAGA,IAAI;IACrB;EACJ,CAAC;EAEDe,KAAK,EAAE;IACHV,KAAK,EAAE;MACHC,MAAM,EAAE,EAAE;MACVN,IAAI,EAAE,CAAC;MACPO,UAAU,EAAE;IAChB;EAEJ,CAAC;EAEDU,OAAO,EAAE;IACLC,QAAQA,CAACH,KAAK,EAAE;MACZ,OAAOA,KAAK,CAACV,KAAK,CAACC,MAAM;IAC7B,CAAC;IACDa,OAAOA,CAACJ,KAAK,EAAC;MACV,OAAOA,KAAK,CAACV,KAAK,CAACE,UAAU;IACjC;EAEJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}