{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"RegisterPage\",\n  data() {\n    return {\n      form: {\n        email: '',\n        password: ''\n      },\n      errorMessage: ''\n    };\n  },\n  methods: {\n    ...mapActions(['createUser', 'fetchToken']),\n    async addUser() {\n      try {\n        await this.createUser(this.form);\n        console.log('success');\n        await this.login();\n      } catch (error) {\n        console.log(error);\n        this.errorMessage = 'Failed to create user. Please try again later.';\n      }\n    },\n    async login() {\n      try {\n        await this.fetchToken({\n          email: this.form.email,\n          password: this.form.password\n        });\n        this.$router.push('/');\n      } catch (error) {\n        console.log(error);\n        this.errorMessage = 'Failed to fetch token. Please try again later.';\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapActions","name","data","form","email","password","errorMessage","methods","addUser","createUser","console","log","login","error","fetchToken","$router","push"],"sources":["D:\\vue\\book-front\\src\\pages\\book\\RegisterPage.vue"],"sourcesContent":["<template>\r\n    <form class=\"col-6\" @submit.prevent=\"addUser\">\r\n        <div class=\"form-group \">\r\n            <label for=\"exampleInputEmail1\">Email address</label>\r\n            <input\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                id=\"exampleInputEmail1\"\r\n                aria-describedby=\"emailHelp\"\r\n                placeholder=\"Enter email\"\r\n                v-model=\"form.email\"\r\n            >\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label for=\"exampleInputPassword1\">Password</label>\r\n            <input\r\n                type=\"password\"\r\n                class=\"form-control\"\r\n                id=\"exampleInputPassword1\"\r\n                placeholder=\"Password\"\r\n                v-model=\"form.password\"\r\n            >\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-between\">\r\n            <button type=\"submit\" class=\"btn btn-primary mt-4\">Ruyxatdan o`tish</button>\r\n            <router-link to=\"/\">\r\n                <button type=\"submit\" class=\"btn btn-success mt-4\">Ortga</button>\r\n            </router-link>\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from \"vuex\";\r\n\r\nexport default {\r\n    name: \"RegisterPage\",\r\n    data() {\r\n        return {\r\n            form: {\r\n                email: '',\r\n                password: '',\r\n            },\r\n            errorMessage: ''\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        ...mapActions(['createUser', 'fetchToken']),\r\n        async addUser() {\r\n            try {\r\n                await this.createUser(this.form);\r\n                console.log('success');\r\n                await this.login();\r\n            } catch (error) {\r\n                console.log(error);\r\n                this.errorMessage = 'Failed to create user. Please try again later.';\r\n            }\r\n        },\r\n        async login() {\r\n            try {\r\n                await this.fetchToken({ email: this.form.email, password: this.form.password });\r\n                this.$router.push('/');\r\n            } catch (error) {\r\n                console.log(error);\r\n                this.errorMessage = 'Failed to fetch token. Please try again later.';\r\n            }\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AAkCA,SAAQA,UAAU,QAAO,MAAM;AAE/B,eAAe;EACXC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACFC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACd,CAAC;MACDC,YAAY,EAAE;IAClB;EACJ,CAAC;EAEDC,OAAO,EAAE;IACL,GAAGP,UAAU,CAAC,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;IAC3C,MAAMQ,OAAOA,CAAA,EAAG;MACZ,IAAI;QACA,MAAM,IAAI,CAACC,UAAU,CAAC,IAAI,CAACN,IAAI,CAAC;QAChCO,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtB,MAAM,IAAI,CAACC,KAAK,EAAE;MACtB,EAAE,OAAOC,KAAK,EAAE;QACZH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;QAClB,IAAI,CAACP,YAAW,GAAI,gDAAgD;MACxE;IACJ,CAAC;IACD,MAAMM,KAAKA,CAAA,EAAG;MACV,IAAI;QACA,MAAM,IAAI,CAACE,UAAU,CAAC;UAAEV,KAAK,EAAE,IAAI,CAACD,IAAI,CAACC,KAAK;UAAEC,QAAQ,EAAE,IAAI,CAACF,IAAI,CAACE;QAAS,CAAC,CAAC;QAC/E,IAAI,CAACU,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MAC1B,EAAE,OAAOH,KAAK,EAAE;QACZH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;QAClB,IAAI,CAACP,YAAW,GAAI,gDAAgD;MACxE;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}